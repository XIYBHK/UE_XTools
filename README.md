# XTools 插件

UE工具插件,提供多种实用功能。

## 概述

XTools是一个为Unreal Engine 5.3开发的工具集插件，提供了一系列实用工具和功能来提高开发效率。

## 功能模块

### 1. 异步工具 (AsyncTools)
高级时间插值系统，用于动画和过渡效果。
- 支持线性或曲线驱动的数值插值
- 完整的事件委托系统（开始/更新/完成/进度）
- 灵活的控制接口（暂停/恢复/取消/循环）
- 支持时间缩放和动态参数更新
- 内置调试系统，固定位置显示状态信息

### 2. 贝塞尔曲线工具
计算和可视化贝塞尔曲线。
- 支持任意阶数的贝塞尔曲线
- 二阶和三阶曲线的优化计算
- 匀速/参数化运动模式
- 完整的调试可视化系统
- 自定义颜色配置选项

### 3. 组件查找工具
快速查找组件层级中的父级Actor。
- 支持类型和标签过滤
- 自动查找最顶层匹配项
- 高效的单次遍历算法
- 完善的错误处理

### 4. 组件时间轴
组件和对象的时间轴系统。
- 支持属性动画和事件触发
- 组件和对象两种模式
- 支持网络复制
- 内置时间轴编辑器

### 5. 增强代码流 (ECF)
代码流程控制工具集。
- 标准/自定义时间轴
- 异步/协程系统
- 事件回调机制
- 精确的时间和状态控制

### 6. 排序工具
全面的数组排序功能。
- 基础类型排序(整数/浮点/字符串)
- Actor排序(坐标/夹角/距离)
- 向量排序(轴向/投影/长度)
- 数组操作(截取/反转/去重)

### 7. 随机工具
高级随机算法实现。
- PRD算法(DOTA2概率分布)
- 加权随机采样
- 数组随机打乱
- 内置PRD分布测试工具

### 8. 资产编辑器工具 (X_AssetEditor)
资产处理与命名规范工具。
- 材质函数批量应用
- 支持选中资产添加材质特效(菲涅尔等)
- 资产命名规范化工具
- 支持Actor和静态资产处理
- 内置材质函数选择器
- 自动前缀管理系统

### 9. 几何工具
在模型内部或表面生成采样点。
- 支持在静态网格碰撞体内生成点阵
- 精确处理旋转、缩放的采样范围
- 智能点阵居中算法，确保均匀分布
- 高性能包围盒剔除优化
- 可选的随机噪点扰动，使分布更自然
- 丰富的调试可视化选项

## 使用方法

### 安装
1. 将插件复制到项目的Plugins目录
2. 重新启动编辑器
3. 在编辑器中启用插件 (编辑 > 插件 > XTools)

### 资产命名规范化
1. 在内容浏览器中选择要规范化的资产
2. 右键点击，选择"XTools > 规范化资产命名"

### 材质函数工具
1. 在内容浏览器中选择材质
2. 右键点击，选择"XTools > 添加材质函数"
3. 选择要添加的材质函数并配置参数

## 注意事项
- 异步工具(AsyncTools)使用时注意保存引用，避免过早被垃圾回收
- 使用PrintDebugInfo可在屏幕左上角固定显示异步操作的状态信息
- 贝塞尔曲线工具在匀速模式下计算量较大，不建议每帧大量调用
- 几何工具的采样点数量与网格大小和间距成正比，注意性能影响
- 组件时间轴需在BeginPlay初始化
- 自定义时间轴需提供有效曲线资源
- 排序工具自动处理空值和无效引用
- 资产编辑器工具需启用EditorScriptingUtilities插件
- 插件需要Unreal Engine 5.3或更高版本
- 批量处理大量资产时可能会暂时降低编辑器性能

## 版本历史
### v1.7.0 (当前)
- 重构AsyncTools模块，改进调试信息显示系统
- 重构X_AssetEditor模块，优化材质函数处理和资产命名系统
- 优化GetTopmostAttachedActor函数(原FindParentComponentByClass)
- 增强贝塞尔曲线工具，支持匀速模式和优化计算
- 新增PRD分布测试工具
- 完善文档和工具提示

### v1.6.0
- 新增几何工具模块
- 实现了在模型内部生成点阵的高级功能

### v1.5.0
- 新增X_AssetEditor模块
- 支持批量材质函数应用
- 增加资产命名规范化工具

### v1.4.0
- 新增RandomShuffles模块
- 实现PRD算法和随机采样

### v1.3.0
- 新增Sort模块
- 完整的排序工具集

### v1.2.0
- 新增ECF模块
- 时间轴和异步系统

### v1.1.0
- 新增组件时间轴
- 时间轴编辑器支持

### v1.0.0
- 初始版本
- 基础工具集实现

## 许可证
MIT许可证
